(function(){"use strict";var e={6597:function(e,o,t){var a=t(5130),i=t(6768);const n={id:"app"};function l(e,o,t,a,l,s){const r=(0,i.g2)("Header"),u=(0,i.g2)("router-view"),c=(0,i.g2)("Footer");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.bF)(r),(0,i.bF)(u),(0,i.bF)(c)])}var s=t(4232),r=t.p+"img/file.da670ea1.png";const u={class:"nav-left"},c={class:"nav-right"},d={class:"welcome-message"},g={key:1,class:"profile-modal"},v={class:"profile-modal-content"},m={key:0},p={key:0},k=["src"],h={key:1};function f(e,o,t,n,l,f){const L=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("header",{class:(0,s.C4)(["header",{scrolled:n.scrolled}])},[(0,i.Lk)("div",{class:"logo",onClick:o[0]||(o[0]=(...e)=>n.navigateHome&&n.navigateHome(...e))},o[9]||(o[9]=[(0,i.Lk)("img",{src:r,alt:"Logo"},null,-1)])),(0,i.Lk)("nav",{class:(0,s.C4)({open:n.isMenuOpen})},[(0,i.Lk)("div",u,[(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>n.selectedLanguage=e),onChange:o[2]||(o[2]=(...e)=>n.changeLanguage&&n.changeLanguage(...e))},o[10]||(o[10]=[(0,i.Lk)("option",{value:"ko-KR"},"한국어",-1),(0,i.Lk)("option",{value:"en-US"},"English",-1),(0,i.Lk)("option",{value:"ja-JP"},"日本語",-1)]),544),[[a.u1,n.selectedLanguage]]),(0,i.bF)(L,{to:"/",onClick:n.closeMenu},{default:(0,i.k6)((()=>o[11]||(o[11]=[(0,i.eW)("홈")]))),_:1},8,["onClick"]),(0,i.bF)(L,{to:"/popular",onClick:n.closeMenu},{default:(0,i.k6)((()=>o[12]||(o[12]=[(0,i.eW)("대세 콘텐츠")]))),_:1},8,["onClick"]),(0,i.bF)(L,{to:"/search",onClick:n.closeMenu},{default:(0,i.k6)((()=>o[13]||(o[13]=[(0,i.eW)("찾아보기")]))),_:1},8,["onClick"]),(0,i.bF)(L,{to:"/wishlist",onClick:n.closeMenu},{default:(0,i.k6)((()=>o[14]||(o[14]=[(0,i.eW)("찜 목록")]))),_:1},8,["onClick"])]),(0,i.Lk)("div",c,[n.isLoggedIn?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("span",d,(0,s.v_)(n.user&&n.user.nickname)+"님 환영합니다 ",1),(0,i.Lk)("button",{onClick:o[3]||(o[3]=(...e)=>n.fetchProfile&&n.fetchProfile(...e))},"회원정보 조회"),(0,i.Lk)("button",{onClick:o[4]||(o[4]=(...e)=>n.logout&&n.logout(...e))},"로그아웃")],64)):((0,i.uX)(),(0,i.Wv)(L,{key:1,to:"/signin",onClick:n.closeMenu},{default:(0,i.k6)((()=>o[15]||(o[15]=[(0,i.eW)("로그인")]))),_:1},8,["onClick"]))])],2),(0,i.Lk)("button",{class:"hamburger",onClick:o[5]||(o[5]=(...e)=>n.toggleMenu&&n.toggleMenu(...e))},o[16]||(o[16]=[(0,i.Lk)("span",null,null,-1),(0,i.Lk)("span",null,null,-1),(0,i.Lk)("span",null,null,-1)])),n.isMenuOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"menu-overlay",onClick:o[6]||(o[6]=(...e)=>n.closeMenu&&n.closeMenu(...e))})):(0,i.Q3)("",!0),n.showProfileModal?((0,i.uX)(),(0,i.CE)("div",g,[(0,i.Lk)("div",v,[o[19]||(o[19]=(0,i.Lk)("h2",null,"내 정보",-1)),n.profileData?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("p",null,[o[17]||(o[17]=(0,i.Lk)("strong",null,"닉네임:",-1)),(0,i.eW)(" "+(0,s.v_)(n.profileData.nickname),1)]),(0,i.Lk)("p",null,[o[18]||(o[18]=(0,i.Lk)("strong",null,"프로필 이미지:",-1)),(0,i.Lk)("a",{href:"#",onClick:o[7]||(o[7]=(0,a.D$)(((...e)=>n.toggleProfileImage&&n.toggleProfileImage(...e)),["prevent"]))},"프로필 이미지 보기")]),n.showProfileImage?((0,i.uX)(),(0,i.CE)("div",p,[(0,i.Lk)("img",{src:n.profileData.imageUrl,alt:"프로필 이미지",class:"profile-image"},null,8,k)])):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.CE)("p",h,"프로필 정보가 없습니다.")),(0,i.Lk)("button",{onClick:o[8]||(o[8]=(...e)=>n.closeProfileModal&&n.closeProfileModal(...e))},"닫기")])])):(0,i.Q3)("",!0)],2)}t(4114);var L=t(144),w=t(782),b=t(1387),I=t(7411),C={name:"Header",setup(){const e=(0,w.Pj)(),o=(0,b.rd)(),t=(0,I.dj)(),a=(0,L.KR)(!1),n=()=>{a.value=window.scrollY>50},l=(0,L.KR)(!1),s=()=>{l.value=!l.value},r=()=>{l.value=!1},u=localStorage.getItem("selectedLanguage")||"ko-KR",c=(0,L.KR)(u),d=()=>{};(0,i.wB)((()=>c.value),(e=>{localStorage.setItem("selectedLanguage",e),window.location.reload()}));const g=(0,L.KR)("true"===localStorage.getItem("isLoggedIn")),v=(0,i.EW)((()=>e.getters["auth/user"]));(0,i.wB)((()=>e.getters["auth/isLoggedIn"]),(e=>{g.value=e,localStorage.setItem("isLoggedIn",e)}),{immediate:!0});const m=(0,L.KR)(!1),p=(0,L.KR)(null),k=(0,L.KR)(!1),h=()=>{k.value=!k.value},f=()=>{e.dispatch("auth/logout"),window.Kakao&&window.Kakao.Auth.getAccessToken()&&window.Kakao.Auth.logout((()=>{console.log("카카오 로그아웃 완료")})),localStorage.removeItem("isLoggedIn"),o.push("/signin")},C=()=>{o.push("/")},y=()=>{window.Kakao&&window.Kakao.Auth&&window.Kakao.Auth.getAccessToken()?window.Kakao.API.request({url:"/v2/user/me",success:e=>{console.log("카카오 회원 정보:",e),p.value={nickname:e.kakao_account?.profile?.nickname||"",imageUrl:e.kakao_account?.profile?.profile_image_url||"",email:e.kakao_account?.email||""},m.value=!0,k.value=!1},fail:e=>{console.error("카카오 회원정보 조회 실패:",e),e.message?t.error(`회원정보 조회 실패: ${e.message}`):t.error("회원정보 조회 중 네트워크 오류가 발생했습니다.")}}):t.error("카카오 SDK가 로드되지 않았거나 초기화되지 않았습니다.")},E=()=>{m.value=!1,k.value=!1};return(0,i.sV)((()=>{window.addEventListener("scroll",n)})),(0,i.hi)((()=>{window.removeEventListener("scroll",n)})),{scrolled:a,isMenuOpen:l,selectedLanguage:c,isLoggedIn:g,user:v,showProfileModal:m,profileData:p,showProfileImage:k,toggleMenu:s,closeMenu:r,changeLanguage:d,logout:f,navigateHome:C,fetchProfile:y,closeProfileModal:E,toggleProfileImage:h}}},y=t(1241);const E=(0,y.A)(C,[["render",f],["__scopeId","data-v-9f280468"]]);var S=E;const _={class:"footer"};function M(e,o,t,a,n,l){return(0,i.uX)(),(0,i.CE)("footer",_,o[0]||(o[0]=[(0,i.Lk)("p",null,"© 2024 Bong-coding. All rights reserved.",-1)]))}var K={name:"Footer"};const P=(0,y.A)(K,[["render",M],["__scopeId","data-v-52125fdb"]]);var R=P,X={name:"App",components:{Header:S,Footer:R}};const O=(0,y.A)(X,[["render",l]]);var W=O;const F={class:"home"},A={key:0,class:"loading-indicator"},T={key:1,class:"error-message"},U={key:2},D={class:"banner-content"},V={class:"banner-buttons"},x={class:"movie-section"},$={class:"movie-section"},j={class:"movie-section"},H={class:"movie-section"};function Q(e,o,t,n,l,r){const u=(0,i.g2)("MovieCard");return(0,i.uX)(),(0,i.CE)("div",F,[n.loading?((0,i.uX)(),(0,i.CE)("div",A,o[12]||(o[12]=[(0,i.Lk)("p",null,"로딩 중...",-1)]))):n.error?((0,i.uX)(),(0,i.CE)("div",T,[(0,i.Lk)("p",null,(0,s.v_)(n.error),1)])):((0,i.uX)(),(0,i.CE)("div",U,[(0,i.Lk)("section",{class:"banner",style:(0,s.Tr)({backgroundImage:`url(${n.bannerImageUrl})`})},[o[13]||(o[13]=(0,i.Lk)("div",{class:"banner-overlay"},null,-1)),(0,i.Lk)("div",D,[(0,i.Lk)("h1",null,(0,s.v_)(n.bannerTitle),1),(0,i.Lk)("p",null,(0,s.v_)(n.bannerOverview),1),(0,i.Lk)("div",V,[(0,i.Lk)("button",{onClick:o[0]||(o[0]=e=>n.togglePlayModal())},"재생"),(0,i.Lk)("button",{onClick:o[1]||(o[1]=e=>n.toggleModal(!0))},"상세 정보")])])],4),n.isModalOpen?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modal-overlay",onClick:o[4]||(o[4]=e=>n.toggleModal(!1))},[(0,i.Lk)("div",{class:"modal-content",onClick:o[3]||(o[3]=(0,a.D$)((()=>{}),["stop"]))},[(0,i.Lk)("h2",null,(0,s.v_)(n.bannerTitle)+" - 줄거리",1),(0,i.Lk)("p",null,(0,s.v_)(n.bannerOverview),1),(0,i.Lk)("button",{onClick:o[2]||(o[2]=e=>n.toggleModal(!1))},"닫기")])])):(0,i.Q3)("",!0),n.isPlayModalOpen?((0,i.uX)(),(0,i.CE)("div",{key:1,class:"modal-overlay",onClick:o[7]||(o[7]=e=>n.togglePlayModal())},[(0,i.Lk)("div",{class:"modal-content",onClick:o[6]||(o[6]=(0,a.D$)((()=>{}),["stop"]))},[o[14]||(o[14]=(0,i.Lk)("h2",null,"알림",-1)),o[15]||(o[15]=(0,i.Lk)("p",null,"짭플렉스는 재생을 지원하지 않습니다",-1)),(0,i.Lk)("button",{onClick:o[5]||(o[5]=e=>n.togglePlayModal())},"닫기")])])):(0,i.Q3)("",!0),(0,i.Lk)("section",x,[o[16]||(o[16]=(0,i.Lk)("h2",null,"인기 영화",-1)),(0,i.Lk)("div",{class:"movies-container",ref:"popularContainer",onWheel:o[8]||(o[8]=(0,a.D$)((e=>n.handleWheel(e,"popularContainer")),["prevent"]))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.popularMovies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))],544)]),(0,i.Lk)("section",$,[o[17]||(o[17]=(0,i.Lk)("h2",null,"애니메이션 영화",-1)),(0,i.Lk)("div",{class:"movies-container",ref:"animationContainer",onWheel:o[9]||(o[9]=(0,a.D$)((e=>n.handleWheel(e,"animationContainer")),["prevent"]))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.animationMovies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))],544)]),(0,i.Lk)("section",j,[o[18]||(o[18]=(0,i.Lk)("h2",null,"액션 영화",-1)),(0,i.Lk)("div",{class:"movies-container",ref:"actionContainer",onWheel:o[10]||(o[10]=(0,a.D$)((e=>n.handleWheel(e,"actionContainer")),["prevent"]))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.actionMovies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))],544)]),(0,i.Lk)("section",H,[o[19]||(o[19]=(0,i.Lk)("h2",null,"로맨스 영화",-1)),(0,i.Lk)("div",{class:"movies-container",ref:"romanceContainer",onWheel:o[11]||(o[11]=(0,a.D$)((e=>n.handleWheel(e,"romanceContainer")),["prevent"]))},[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.romanceMovies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))],544)])]))])}const q=["src"],N={class:"movie-info"},J={key:0,class:"wishlist-icon"};function B(e,o,t,a,n,l){return(0,i.uX)(),(0,i.CE)("div",{class:"movie-card",onClick:o[0]||(o[0]=e=>a.toggleWishlist(t.movie))},[(0,i.Lk)("img",{src:a.imageUrl,alt:"Movie Poster"},null,8,q),(0,i.Lk)("div",N,[(0,i.Lk)("h3",null,(0,s.v_)(t.movie.title),1)]),a.isInWishlist?((0,i.uX)(),(0,i.CE)("div",J,o[1]||(o[1]=[(0,i.Lk)("i",{class:"fas fa-thumbs-up"},null,-1)]))):(0,i.Q3)("",!0)])}t(8992),t(7550),t(2577);function G(){const e=(0,w.Pj)(),o=(0,i.EW)((()=>e.getters["wishlist/wishlist"])),t=o=>{e.dispatch("wishlist/addToWishlist",o)},a=o=>{e.dispatch("wishlist/removeFromWishlist",o)},n=e=>{const i=o.value.find((o=>o.id===e.id));i?a(e.id):t(e)};return{wishlist:o,addToWishlist:t,removeFromWishlist:a,toggleWishlist:n}}const z="https://image.tmdb.org/t/p/",Y="w500";var Z={name:"MovieCard",props:{movie:{type:Object,required:!0}},setup(e){const{wishlist:o,toggleWishlist:t}=G(),a=(0,i.EW)((()=>o.value.some((o=>o.id===e.movie.id)))),n=(0,i.EW)((()=>e.movie.poster_path?`${z}${Y}${e.movie.poster_path}`:"https://via.placeholder.com/500x750?text=No+Image")),l=(e,o)=>e&&e.length>o?e.substring(0,o)+"...":e;return{toggleWishlist:t,isInWishlist:a,imageUrl:n,truncateText:l}}};const ee=(0,y.A)(Z,[["render",B],["__scopeId","data-v-d21c15b0"]]);var oe=ee,te=t(4373);const ae="3066be6b98d1d315d68d39fa9c1f8853",ie=localStorage.getItem("selectedLanguage")||"ko-KR",ne=te.A.create({baseURL:"https://api.themoviedb.org/3",params:{api_key:ae,language:ie}});var le=ne,se={name:"Home",components:{MovieCard:oe},setup(){const e=(0,L.KR)([]),o=(0,L.KR)([]),t=(0,L.KR)([]),a=(0,L.KR)([]),n=(0,L.KR)(!1),l=(0,L.KR)(null),s=(0,L.KR)(""),r=(0,L.KR)(""),u=(0,L.KR)(""),c=(0,L.KR)(!1),d=(0,L.KR)(!1),g=(0,L.KR)(null),v=(0,L.KR)(null),m=(0,L.KR)(null),p=(0,L.KR)(null),k=e=>{c.value=e},h=()=>{d.value=!d.value},f=async()=>{n.value=!0,l.value=null;try{const i=await le.get("/movie/popular");e.value=i.data.results;const n=await le.get("/discover/movie",{params:{with_genres:16}});o.value=n.data.results;const l=await le.get("/discover/movie",{params:{with_genres:28}});t.value=l.data.results;const c=await le.get("/discover/movie",{params:{with_genres:10749}});a.value=c.data.results;const d=e.value[8];s.value=`https://image.tmdb.org/t/p/original${d.backdrop_path}`,r.value=d.title,u.value=d.overview}catch(i){l.value=i.response?.data?.status_message||"데이터를 불러오는 중 에러가 발생했습니다."}finally{n.value=!1}},w=(e,o)=>{const t={popularContainer:g,animationContainer:v,actionContainer:m,romanceContainer:p},a=t[o];a.value&&(a.value.scrollLeft+=3*e.deltaY)};return(0,i.sV)((()=>{f()})),{popularMovies:e,animationMovies:o,actionMovies:t,romanceMovies:a,loading:n,error:l,bannerImageUrl:s,bannerTitle:r,bannerOverview:u,isModalOpen:c,isPlayModalOpen:d,toggleModal:k,togglePlayModal:h,popularContainer:g,animationContainer:v,actionContainer:m,romanceContainer:p,handleWheel:w}}};const re=(0,y.A)(se,[["render",Q],["__scopeId","data-v-755d8fc4"]]);var ue=re;const ce={class:"popular"},de={class:"view-toggle"},ge={key:0,class:"table-view"},ve=["src"],me={class:"pagination"},pe=["disabled"],ke={key:1,class:"infinite-view"},he={class:"movies-grid"},fe={key:0,class:"loading"};function Le(e,o,t,a,n,l){const r=(0,i.g2)("MovieCard");return(0,i.uX)(),(0,i.CE)("div",ce,[o[5]||(o[5]=(0,i.Lk)("h1",null,"Popular Movies",-1)),(0,i.Lk)("div",de,[(0,i.Lk)("button",{onClick:o[0]||(o[0]=e=>a.setView("table")),class:(0,s.C4)({active:"table"===a.currentView})}," 테이블 형태로 보기 ",2),(0,i.Lk)("button",{onClick:o[1]||(o[1]=e=>a.setView("infinite")),class:(0,s.C4)({active:"infinite"===a.currentView})}," 무한 스크롤 ",2)]),"table"===a.currentView?((0,i.uX)(),(0,i.CE)("div",ge,[(0,i.Lk)("table",null,[o[4]||(o[4]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"영화"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"줄거리")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.movies,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,[(0,i.Lk)("img",{src:a.getImageUrl(e.poster_path),alt:"Poster"},null,8,ve)]),(0,i.Lk)("td",null,(0,s.v_)(e.title),1),(0,i.Lk)("td",null,(0,s.v_)(a.truncateText(e.overview,100)),1)])))),128))])]),(0,i.Lk)("div",me,[(0,i.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>a.prevPage&&a.prevPage(...e)),disabled:1===a.page},"이전",8,pe),(0,i.Lk)("span",null,"Page "+(0,s.v_)(a.page),1),(0,i.Lk)("button",{onClick:o[3]||(o[3]=(...e)=>a.nextPage&&a.nextPage(...e))},"다음")])])):((0,i.uX)(),(0,i.CE)("div",ke,[(0,i.Lk)("div",he,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.movies,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.id,movie:e},null,8,["movie"])))),128))]),a.loading?((0,i.uX)(),(0,i.CE)("div",fe,"Loading more movies...")):(0,i.Q3)("",!0)]))])}function we(e,o={}){const t=(0,L.KR)(null),a=(0,L.KR)(null),n=(0,L.KR)(!1),l=async()=>{n.value=!0;try{const a=await le.get(e,{params:o});t.value=a.data}catch(i){a.value=i}finally{n.value=!1}};return(0,i.sV)(l),(0,i.wB)((()=>o),(()=>{l()}),{deep:!0}),{data:t,error:a,loading:n}}var be={name:"Popular",components:{MovieCard:oe},setup(){const e=(0,L.KR)("table"),o=(0,L.KR)(1),t=(0,L.KR)({page:o.value}),{data:a,error:n,loading:l}=we("/movie/popular",t.value),s=(0,L.KR)([]);(0,i.wB)([a,o],(([o])=>{o&&("infinite"===e.value?s.value=s.value.concat(o.results):s.value=o.results)}),{immediate:!0});const r=t=>{e.value=t,"table"===t&&(o.value=1,s.value=[])},u=()=>{o.value+=1,t.value.page=o.value},c=()=>{o.value>1&&(o.value-=1,t.value.page=o.value)},d=e=>e?`${z}${Y}${e}`:"https://via.placeholder.com/500x750?text=No+Image",g=(e,o)=>e?e.length>o?e.substring(0,o)+"...":e:"",v=()=>{window.innerHeight+window.scrollY>=document.body.offsetHeight-500&&!l.value&&u()};return(0,i.sV)((()=>{"infinite"===e.value&&window.addEventListener("scroll",v)})),(0,i.hi)((()=>{window.removeEventListener("scroll",v)})),(0,i.wB)(e,(e=>{"infinite"===e?window.addEventListener("scroll",v):window.removeEventListener("scroll",v)})),{currentView:e,setView:r,movies:s,loading:l,error:n,page:o,nextPage:u,prevPage:c,getImageUrl:d,truncateText:g}}};const Ie=(0,y.A)(be,[["render",Le],["__scopeId","data-v-0e4f4e88"]]);var Ce=Ie;const ye={class:"search-page"},Ee={class:"filter-header"},Se={class:"filter-bar"},_e={class:"filter"},Me=["value"],Ke={class:"filter"},Pe={class:"filter"},Re={class:"movie-grid"};function Xe(e,o,t,n,l,r){const u=(0,i.g2)("MovieCard");return(0,i.uX)(),(0,i.CE)("div",ye,[(0,i.Lk)("div",Ee,[o[13]||(o[13]=(0,i.Lk)("h1",{class:"title"},"선호하는 설정을 선택하세요",-1)),(0,i.Lk)("div",Se,[(0,i.Lk)("div",_e,[o[8]||(o[8]=(0,i.Lk)("label",{for:"genre"},"장르 (전체)",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>n.selectedGenre=e),id:"genre",onChange:o[1]||(o[1]=(...e)=>n.fetchFilteredMovies&&n.fetchFilteredMovies(...e))},[o[7]||(o[7]=(0,i.Lk)("option",{value:""},"장르 (전체)",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.genres,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,s.v_)(e.name),9,Me)))),128))],544),[[a.u1,n.selectedGenre]])]),(0,i.Lk)("div",Ke,[o[10]||(o[10]=(0,i.Lk)("label",{for:"rating"},"평점 (전체)",-1)),(0,i.bo)((0,i.Lk)("select",{id:"rating","onUpdate:modelValue":o[2]||(o[2]=e=>n.selectedRating=e),onChange:o[3]||(o[3]=(...e)=>n.fetchFilteredMovies&&n.fetchFilteredMovies(...e))},o[9]||(o[9]=[(0,i.Lk)("option",{value:""},"평점 (전체)",-1),(0,i.Lk)("option",{value:"7"},"7 이상",-1),(0,i.Lk)("option",{value:"8"},"8 이상",-1),(0,i.Lk)("option",{value:"9"},"9 이상",-1)]),544),[[a.u1,n.selectedRating]])]),(0,i.Lk)("div",Pe,[o[12]||(o[12]=(0,i.Lk)("label",{for:"language"},"언어 (전체)",-1)),(0,i.bo)((0,i.Lk)("select",{id:"language","onUpdate:modelValue":o[4]||(o[4]=e=>n.selectedLanguage=e),onChange:o[5]||(o[5]=(...e)=>n.fetchFilteredMovies&&n.fetchFilteredMovies(...e))},o[11]||(o[11]=[(0,i.Lk)("option",{value:""},"언어 (전체)",-1),(0,i.Lk)("option",{value:"en"},"영어",-1),(0,i.Lk)("option",{value:"ko"},"한국어",-1),(0,i.Lk)("option",{value:"ja"},"일본어",-1)]),544),[[a.u1,n.selectedLanguage]])]),(0,i.Lk)("button",{onClick:o[6]||(o[6]=(...e)=>n.resetFilters&&n.resetFilters(...e)),class:"reset-btn"},"초기화")])]),(0,i.Lk)("div",Re,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.movies,(e=>((0,i.uX)(),(0,i.Wv)(u,{key:e.id,movie:e},null,8,["movie"])))),128))])])}var Oe={name:"Search",components:{MovieCard:oe},setup(){const e=(0,L.KR)(""),o=(0,L.KR)(""),t=(0,L.KR)(""),a=(0,L.KR)([]),n=(0,L.KR)([]),l=async()=>{try{const e=await le.get("/genre/movie/list");a.value=e.data.genres}catch(e){console.error(e)}},s=async()=>{const a={with_genres:e.value,"vote_average.gte":o.value,with_original_language:t.value};try{const e=await le.get("/discover/movie",{params:a});n.value=e.data.results}catch(i){console.error(i)}},r=()=>{e.value="",o.value="",t.value="",n.value=[]};return(0,i.sV)((()=>{l()})),{selectedGenre:e,selectedRating:o,selectedLanguage:t,genres:a,movies:n,fetchFilteredMovies:s,resetFilters:r}}};const We=(0,y.A)(Oe,[["render",Xe],["__scopeId","data-v-f4191c8c"]]);var Fe=We;const Ae={class:"wishlist"},Te={key:0,class:"empty"},Ue={key:1,class:"movies-grid"};function De(e,o,t,a,n,l){const s=(0,i.g2)("MovieCard");return(0,i.uX)(),(0,i.CE)("div",Ae,[0===a.wishlist.length?((0,i.uX)(),(0,i.CE)("div",Te," 위시 리스트가 비어있습니다. ")):((0,i.uX)(),(0,i.CE)("div",Ue,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.wishlist,(e=>((0,i.uX)(),(0,i.Wv)(s,{key:e.id,movie:e},null,8,["movie"])))),128))]))])}var Ve={name:"Wishlist",components:{MovieCard:oe},setup(){const e=(0,w.Pj)(),o=(0,i.EW)((()=>e.getters["wishlist/wishlist"]));return{wishlist:o}}};const xe=(0,y.A)(Ve,[["render",De],["__scopeId","data-v-4a50d883"]]);var $e=xe;const je={class:"signin-container"},He={class:"input-group"},Qe={key:0,class:"error"},qe={class:"input-group"},Ne={key:0,class:"input-group"},Je={key:0,class:"error"},Be={key:1,class:"checkbox-group"},Ge={key:2,class:"checkbox-group"},ze={type:"submit"},Ye={key:0,class:"profile-modal"},Ze={class:"profile-modal-content"},eo={key:0},oo=["src"],to={key:1};function ao(e,o,t,n,l,r){return(0,i.uX)(),(0,i.CE)("div",je,[(0,i.bF)(a.eB,{name:"fade",mode:"out-in"},{default:(0,i.k6)((()=>[l.showForm?((0,i.uX)(),(0,i.CE)("div",{class:"form-container",key:l.isSignIn?"sign-in":"sign-up"},[(0,i.Lk)("h2",null,(0,s.v_)(l.isSignIn?"Sign In":"Sign Up"),1),(0,i.Lk)("form",{onSubmit:o[7]||(o[7]=(0,a.D$)(((...e)=>r.handleSubmit&&r.handleSubmit(...e)),["prevent"]))},[(0,i.Lk)("div",He,[(0,i.bo)((0,i.Lk)("input",{placeholder:"Email",type:"email",id:"email","onUpdate:modelValue":o[0]||(o[0]=e=>l.email=e),onBlur:o[1]||(o[1]=(...e)=>r.validateEmail&&r.validateEmail(...e)),required:""},null,544),[[a.Jo,l.email]]),l.emailError?((0,i.uX)(),(0,i.CE)("span",Qe,(0,s.v_)(l.emailError),1)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",qe,[(0,i.bo)((0,i.Lk)("input",{placeholder:"Password",type:"password",id:"password","onUpdate:modelValue":o[2]||(o[2]=e=>l.password=e),required:""},null,512),[[a.Jo,l.password]])]),l.isSignIn?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Ne,[(0,i.bo)((0,i.Lk)("input",{placeholder:"Confirm Password",type:"password",id:"confirmPassword","onUpdate:modelValue":o[3]||(o[3]=e=>l.confirmPassword=e),onBlur:o[4]||(o[4]=(...e)=>r.validatePassword&&r.validatePassword(...e)),required:""},null,544),[[a.Jo,l.confirmPassword]]),l.passwordError?((0,i.uX)(),(0,i.CE)("span",Je,(0,s.v_)(l.passwordError),1)):(0,i.Q3)("",!0)])),l.isSignIn?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Be,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"terms","onUpdate:modelValue":o[5]||(o[5]=e=>l.terms=e),required:""},null,512),[[a.lH,l.terms]]),o[12]||(o[12]=(0,i.Lk)("label",{for:"terms"},"I have read Terms and Conditions",-1))])),l.isSignIn?((0,i.uX)(),(0,i.CE)("div",Ge,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"rememberMe","onUpdate:modelValue":o[6]||(o[6]=e=>l.rememberMe=e)},null,512),[[a.lH,l.rememberMe]]),o[13]||(o[13]=(0,i.Lk)("label",{for:"rememberMe"},"Remember me",-1))])):(0,i.Q3)("",!0),(0,i.Lk)("button",ze,(0,s.v_)(l.isSignIn?"Sign In":"Sign Up"),1)],32),(0,i.Lk)("button",{class:"kakao-btn",type:"button",onClick:o[8]||(o[8]=(...e)=>r.kakaoLogin&&r.kakaoLogin(...e))},o[14]||(o[14]=[(0,i.eW)(" Login with "),(0,i.Lk)("span",{class:"kakao-text"},"Kakao",-1)])),(0,i.Lk)("button",{class:"profile-btn",type:"button",onClick:o[9]||(o[9]=(...e)=>r.fetchKakaoProfile&&r.fetchKakaoProfile(...e))}," Member information inquiry "),(0,i.Lk)("p",null,[(0,i.Lk)("span",null,[(0,i.eW)((0,s.v_)(l.isSignIn?"Don’t have an account?":"Already have an account?")+" ",1),(0,i.Lk)("button",{onClick:o[10]||(o[10]=(...e)=>r.toggleForm&&r.toggleForm(...e))},(0,s.v_)(l.isSignIn?"Sign Up":"Sign In"),1)])])])):(0,i.Q3)("",!0)])),_:1}),l.showProfileModal?((0,i.uX)(),(0,i.CE)("div",Ye,[(0,i.Lk)("div",Ze,[o[18]||(o[18]=(0,i.Lk)("h2",null,"카카오 프로필",-1)),l.profileData?((0,i.uX)(),(0,i.CE)("div",eo,[(0,i.Lk)("p",null,[o[15]||(o[15]=(0,i.Lk)("strong",null,"닉네임:",-1)),(0,i.eW)(" "+(0,s.v_)(l.profileData.nickname),1)]),(0,i.Lk)("p",null,[o[16]||(o[16]=(0,i.Lk)("strong",null,"프로필 이미지:",-1)),o[17]||(o[17]=(0,i.Lk)("br",null,null,-1)),l.profileData.imageUrl?((0,i.uX)(),(0,i.CE)("img",{key:0,src:l.profileData.imageUrl,alt:"프로필 이미지",style:{width:"100px",height:"100px","object-fit":"cover"}},null,8,oo)):((0,i.uX)(),(0,i.CE)("span",to,"이미지 없음"))])])):(0,i.Q3)("",!0),(0,i.Lk)("button",{onClick:o[11]||(o[11]=(...e)=>r.closeProfileModal&&r.closeProfileModal(...e))},"닫기")])])):(0,i.Q3)("",!0)])}function io(e,o,t,a,i){const n=JSON.parse(localStorage.getItem("users"))||[],l=n.find((t=>t.id===e&&t.password===o));l?(i?localStorage.setItem("isLoggedIn",!0):sessionStorage.setItem("isLoggedIn",!0),t(l)):a()}function no(e,o,t,a){const i=JSON.parse(localStorage.getItem("users"))||[],n=i.some((o=>o.id===e));n?a():(i.push({id:e,password:o}),localStorage.setItem("users",JSON.stringify(i)),t())}var lo={name:"SignIn",data(){return{isSignIn:!0,email:"",password:"",confirmPassword:"",rememberMe:!1,terms:!1,emailError:"",passwordError:"",showForm:!1,showProfileModal:!1,profileData:null}},mounted(){try{this.showForm=!0}catch(e){console.error("SignIn mounted error:",e)}},setup(){const e=(0,I.dj)();return{toast:e}},methods:{...(0,w.i0)("auth",["login"]),toggleForm(){this.isSignIn=!this.isSignIn,this.resetForm()},validateEmail(){const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;e.test(this.email)?this.emailError="":this.emailError="이메일 형식이 아닙니다."},validatePassword(){this.password!==this.confirmPassword?this.passwordError="비밀번호가 일치하지 않습니다.":this.passwordError=""},handleSubmit(){this.isSignIn||(this.validateEmail(),this.validatePassword(),!this.emailError&&!this.passwordError&&this.terms)?this.isSignIn?io(this.email,this.password,(e=>{this.login({user:e,rememberMe:this.rememberMe}),this.toast.success("로그인 성공!"),this.$router.push("/")}),(()=>{this.toast.error("아이디나 비밀번호가 틀렸습니다.")})):no(this.email,this.password,(()=>{this.toast.success("회원가입을 성공하였습니다. 로그인 해주세요."),this.isSignIn=!0,this.resetForm()}),(()=>{this.toast.error("이미 사용중인 이메일입니다.")})):this.toast.error("이미 존재하는 아이디입니다.")},kakaoLogin(){window.Kakao&&window.Kakao.isInitialized()?window.Kakao.Auth.login({scope:"profile_nickname,profile_image",success:()=>{window.Kakao.API.request({url:"/v2/user/me",success:e=>{const o=e.kakao_account||{},t={id:e.id,nickname:o.profile?.nickname||"",imageUrl:o.profile?.profile_image_url||""};this.login({user:t,rememberMe:!0}),this.toast.success("카카오 로그인 성공!"),console.log("카카오 전체 프로필:",e),console.log("닉네임:",t.nickname),console.log("프로필 이미지:",t.imageUrl),this.$router.push("/")},fail:e=>{this.toast.error("카카오 사용자 정보 요청 실패"),console.error(e)}})},fail:e=>{this.toast.error("카카오 로그인 실패"),console.error(e)}}):this.toast.error("카카오 SDK가 로드되지 않았거나 초기화되지 않았습니다.")},fetchKakaoProfile(){window.Kakao&&window.Kakao.isInitialized()?window.Kakao.Auth.getAccessToken()?window.Kakao.API.request({url:"/v2/user/me",success:e=>{const o=e.kakao_account?.profile?.nickname||"",t=e.kakao_account?.profile?.profile_image_url||"";console.log("회원정보 조회 - 닉네임:",o),console.log("회원정보 조회 - 프로필이미지:",t),this.profileData={nickname:o,imageUrl:t},this.showProfileModal=!0},fail:e=>{this.toast.error("회원정보 조회 실패"),console.error("회원정보 조회 실패:",e)}}):this.toast.error("카카오 로그인 정보가 없습니다. 다시 로그인 해주세요."):this.toast.error("카카오 SDK가 초기화되지 않았습니다.")},closeProfileModal(){this.showProfileModal=!1},resetForm(){this.email="",this.password="",this.confirmPassword="",this.rememberMe=!1,this.terms=!1,this.emailError="",this.passwordError=""}}};const so=(0,y.A)(lo,[["render",ao],["__scopeId","data-v-23044e9c"]]);var ro=so;const uo=[{path:"/",name:"Home",component:ue,meta:{requiresAuth:!0}},{path:"/popular",name:"Popular",component:Ce,meta:{requiresAuth:!0}},{path:"/search",name:"Search",component:Fe,meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:$e,meta:{requiresAuth:!0}},{path:"/signin",name:"SignIn",component:ro},{path:"/about",redirect:"/signin"},{path:"/:pathMatch(.*)*",redirect:"/"}],co=(0,b.aE)({history:(0,b.Bt)(),routes:uo});co.beforeEach(((e,o,t)=>{const a="true"===localStorage.getItem("isLoggedIn")||"true"===sessionStorage.getItem("isLoggedIn");e.meta.requiresAuth&&!a?t("/signin"):t()}));var go=co;const vo={user:JSON.parse(localStorage.getItem("user"))||null,isLoggedIn:"true"===localStorage.getItem("isLoggedIn")||"true"===sessionStorage.getItem("isLoggedIn")},mo={SET_USER(e,o){e.user=o,e.isLoggedIn=!0},LOGOUT(e){e.user=null,e.isLoggedIn=!1}},po={login({commit:e},{user:o,rememberMe:t}){e("SET_USER",o),t?(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(o))):(sessionStorage.setItem("isLoggedIn","true"),sessionStorage.setItem("user",JSON.stringify(o)))},logout({commit:e}){e("LOGOUT"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"),sessionStorage.removeItem("isLoggedIn"),sessionStorage.removeItem("user")}},ko={isLoggedIn:e=>e.isLoggedIn,user:e=>e.user};var ho={namespaced:!0,state:vo,mutations:mo,actions:po,getters:ko};const fo={popularMovies:[],loading:!1,error:null},Lo={SET_POPULAR_MOVIES(e,o){e.popularMovies=o},SET_LOADING(e,o){e.loading=o},SET_ERROR(e,o){e.error=o}},wo={async fetchPopularMovies({commit:e},o=1){e("SET_LOADING",!0);try{const t=await le.get("/movie/popular",{params:{page:o}});e("SET_POPULAR_MOVIES",t.data.results)}catch(t){e("SET_ERROR",t)}finally{e("SET_LOADING",!1)}}},bo={popularMovies:e=>e.popularMovies,loading:e=>e.loading,error:e=>e.error};var Io={namespaced:!0,state:fo,mutations:Lo,actions:wo,getters:bo};t(4520);const Co={wishlist:JSON.parse(localStorage.getItem("movieWishlist"))||[]},yo={ADD_TO_WISHLIST(e,o){e.wishlist.push(o),localStorage.setItem("movieWishlist",JSON.stringify(e.wishlist))},REMOVE_FROM_WISHLIST(e,o){e.wishlist=e.wishlist.filter((e=>e.id!==o)),localStorage.setItem("movieWishlist",JSON.stringify(e.wishlist))}},Eo={addToWishlist({commit:e},o){e("ADD_TO_WISHLIST",o)},removeFromWishlist({commit:e},o){e("REMOVE_FROM_WISHLIST",o)}},So={wishlist:e=>e.wishlist};var _o={namespaced:!0,state:Co,mutations:yo,actions:Eo,getters:So},Mo=(0,w.y$)({modules:{auth:ho,movies:Io,wishlist:_o}});t(7917);const Ko=(0,a.Ef)(W);window.Kakao&&!window.Kakao.isInitialized()?(window.Kakao.init("3e6964f647f00ab2a7c49f000c7d1ce3"),console.log("Kakao SDK Initialized in main.js!")):console.warn("Kakao SDK not available or already initialized."),Ko.use(Mo).use(go).use(I.Ay).mount("#app")}},o={};function t(a){var i=o[a];if(void 0!==i)return i.exports;var n=o[a]={exports:{}};return e[a].call(n.exports,n,n.exports,t),n.exports}t.m=e,function(){var e=[];t.O=function(o,a,i,n){if(!a){var l=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],n=e[c][2];for(var s=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(t.O).every((function(e){return t.O[e](a[r])}))?a.splice(r--,1):(s=!1,n<l&&(l=n));if(s){e.splice(c--,1);var u=i();void 0!==u&&(o=u)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,i,n]}}(),function(){t.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(o,{a:o}),o}}(),function(){t.d=function(e,o){for(var a in o)t.o(o,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/vue/"}(),function(){var e={524:0};t.O.j=function(o){return 0===e[o]};var o=function(o,a){var i,n,l=a[0],s=a[1],r=a[2],u=0;if(l.some((function(o){return 0!==e[o]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(r)var c=r(t)}for(o&&o(a);u<l.length;u++)n=l[u],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},a=self["webpackChunkvue"]=self["webpackChunkvue"]||[];a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(6597)}));a=t.O(a)})();
//# sourceMappingURL=app.988c072e.js.map